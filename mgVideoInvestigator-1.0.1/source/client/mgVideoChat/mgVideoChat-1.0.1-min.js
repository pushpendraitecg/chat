window.RTCPeerConnection=window.mozRTCPeerConnection||window.webkitRTCPeerConnection||window.RTCPeerConnection;window.PeerConnection=(window.webkitPeerConnection00||window.webkitPeerConnection||window.PeerConnection);navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;(function(c,b,a,f){var e={wsURL:"ws://localhost:8080"};var d=function(j,i){this.elem=j;this.$elem=c(j);this.config=c.extend({},e,i);var k=[];if(!b.WebSocket){k.push("Your browser does not support websocket.")}if(!b.RTCPeerConnection&&!b.PeerConnection){k.push("Your browser does not support PeerConnections.")}if(!navigator.getUserMedia){k.push("Your browser does not support user media.")}if(k.length>0){k.push('Please try <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a> or <a href="http://www.mozilla.org/en-US/firefox" target="_blank">Mozilla Firefox</a>');this.$elem.html('<div class="alert alert-danger">'+k.join("<br>")+"</div>");return false}var h=this;var g=new WebSocket(this.config.wsURL);g.onopen=function(){h.$elem.html('<div class="alert alert-success">Congrats! You should be able to use real Magnoliyan Video Chat</div>')};g.onerror=function(l){h.$elem.html('<div class="alert alert-danger">Error! Unable to connect to test Chat server</div>')};g.onclose=function(){h.$elem.html('<div class="alert alert-danger">Error! Unable to connect to test Chat server. Make sure that <a href="source/server/web-commander/index.php" target="_blank">chat server</a> is running.</div> and then reload the page.')}};c.fn.mgVideoChat=function(g,h){this.each(function(){return new d(this,g)})}})(jQuery,window,document);